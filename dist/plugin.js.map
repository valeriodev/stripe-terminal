{"version":3,"file":"plugin.js","sources":["esm/events.enum.js","esm/stripe.enum.js","esm/index.js","esm/terminal-mappers.js","esm/web.js"],"sourcesContent":["export var TerminalEventsEnum;\n(function (TerminalEventsEnum) {\n    TerminalEventsEnum[\"Loaded\"] = \"terminalLoaded\";\n    TerminalEventsEnum[\"DiscoveredReaders\"] = \"terminalDiscoveredReaders\";\n    TerminalEventsEnum[\"DiscoveringReaders\"] = \"terminalDiscoveringReaders\";\n    TerminalEventsEnum[\"CancelDiscoveredReaders\"] = \"terminalCancelDiscoveredReaders\";\n    TerminalEventsEnum[\"ConnectedReader\"] = \"terminalConnectedReader\";\n    TerminalEventsEnum[\"DisconnectedReader\"] = \"terminalDisconnectedReader\";\n    TerminalEventsEnum[\"ConnectionStatusChange\"] = \"terminalConnectionStatusChange\";\n    TerminalEventsEnum[\"UnexpectedReaderDisconnect\"] = \"terminalUnexpectedReaderDisconnect\";\n    TerminalEventsEnum[\"ConfirmedPaymentIntent\"] = \"terminalConfirmedPaymentIntent\";\n    TerminalEventsEnum[\"CollectedPaymentIntent\"] = \"terminalCollectedPaymentIntent\";\n    TerminalEventsEnum[\"Canceled\"] = \"terminalCanceled\";\n    TerminalEventsEnum[\"Failed\"] = \"terminalFailed\";\n    TerminalEventsEnum[\"RequestedConnectionToken\"] = \"terminalRequestedConnectionToken\";\n    TerminalEventsEnum[\"ReportAvailableUpdate\"] = \"terminalReportAvailableUpdate\";\n    TerminalEventsEnum[\"StartInstallingUpdate\"] = \"terminalStartInstallingUpdate\";\n    TerminalEventsEnum[\"ReaderSoftwareUpdateProgress\"] = \"terminalReaderSoftwareUpdateProgress\";\n    TerminalEventsEnum[\"FinishInstallingUpdate\"] = \"terminalFinishInstallingUpdate\";\n    TerminalEventsEnum[\"BatteryLevel\"] = \"terminalBatteryLevel\";\n    TerminalEventsEnum[\"ReaderEvent\"] = \"terminalReaderEvent\";\n    TerminalEventsEnum[\"RequestDisplayMessage\"] = \"terminalRequestDisplayMessage\";\n    TerminalEventsEnum[\"RequestReaderInput\"] = \"terminalRequestReaderInput\";\n    TerminalEventsEnum[\"PaymentStatusChange\"] = \"terminalPaymentStatusChange\";\n    TerminalEventsEnum[\"ReaderReconnectStarted\"] = \"terminalReaderReconnectStarted\";\n    TerminalEventsEnum[\"ReaderReconnectSucceeded\"] = \"terminalReaderReconnectSucceeded\";\n    TerminalEventsEnum[\"ReaderReconnectFailed\"] = \"terminalReaderReconnectFailed\";\n})(TerminalEventsEnum || (TerminalEventsEnum = {}));\n//# sourceMappingURL=events.enum.js.map","export var TerminalConnectTypes;\n(function (TerminalConnectTypes) {\n    TerminalConnectTypes[\"Simulated\"] = \"simulated\";\n    TerminalConnectTypes[\"Internet\"] = \"internet\";\n    TerminalConnectTypes[\"Bluetooth\"] = \"bluetooth\";\n    TerminalConnectTypes[\"Usb\"] = \"usb\";\n    TerminalConnectTypes[\"TapToPay\"] = \"tap-to-pay\";\n    TerminalConnectTypes[\"HandOff\"] = \"hand-off\";\n})(TerminalConnectTypes || (TerminalConnectTypes = {}));\n/**\n * Note: Don't need to use this enum. It's just for reference.\n */\nexport var DeviceType;\n(function (DeviceType) {\n    DeviceType[\"tapToPayDevice\"] = \"tapToPayDevice\";\n    DeviceType[\"wisePad3s\"] = \"wisePad3s\";\n    DeviceType[\"appleBuiltIn\"] = \"appleBuiltIn\";\n    DeviceType[\"chipper1X\"] = \"chipper1X\";\n    DeviceType[\"chipper2X\"] = \"chipper2X\";\n    DeviceType[\"etna\"] = \"etna\";\n    DeviceType[\"stripeM2\"] = \"stripeM2\";\n    DeviceType[\"stripeS700\"] = \"stripeS700\";\n    DeviceType[\"stripeS700DevKit\"] = \"stripeS700Devkit\";\n    DeviceType[\"verifoneP400\"] = \"verifoneP400\";\n    DeviceType[\"wiseCube\"] = \"wiseCube\";\n    DeviceType[\"wisePad3\"] = \"wisePad3\";\n    DeviceType[\"wisePosE\"] = \"wisePosE\";\n    DeviceType[\"wisePosEDevKit\"] = \"wisePosEDevkit\";\n    DeviceType[\"unknown\"] = \"unknown\";\n})(DeviceType || (DeviceType = {}));\n/**\n * This group is useful for pick image.\n * Reference: https://github.com/stripe/stripe-terminal-ios/blob/fc571ab441b14639243a11d19d8f62bbe93feea5/Example/Example/ReaderHeaderView.swift#L95-L113\n */\nexport var DeviceGroup;\n(function (DeviceGroup) {\n    DeviceGroup[\"stripeM2\"] = \"stripe_m2\";\n    DeviceGroup[\"chipper1X\"] = \"chipper\";\n    DeviceGroup[\"chipper2X\"] = \"chipper\";\n    DeviceGroup[\"wiseCube\"] = \"chipper\";\n    DeviceGroup[\"verifoneP400\"] = \"verifone\";\n    DeviceGroup[\"wisePad3s\"] = \"wisepad\";\n    DeviceGroup[\"wisePad3\"] = \"wisepad\";\n    DeviceGroup[\"wisePosEDevKit\"] = \"wisepose\";\n    DeviceGroup[\"etna\"] = \"wisepose\";\n    DeviceGroup[\"wisePosE\"] = \"wisepose\";\n    DeviceGroup[\"stripeS700DevKit\"] = \"s700\";\n    DeviceGroup[\"stripeS700\"] = \"s700\";\n    DeviceGroup[\"appleBuiltIn\"] = \"apple\";\n    DeviceGroup[\"tapToPayDevice\"] = \"tapToPayDevice\";\n    DeviceGroup[\"unknown\"] = \"unknown\";\n})(DeviceGroup || (DeviceGroup = {}));\nexport var UpdateTimeEstimate;\n(function (UpdateTimeEstimate) {\n    UpdateTimeEstimate[\"LessThanOneMinute\"] = \"LESS_THAN_ONE_MINUTE\";\n    UpdateTimeEstimate[\"OneToTwoMinutes\"] = \"ONE_TO_TWO_MINUTES\";\n    UpdateTimeEstimate[\"TwoToFiveMinutes\"] = \"TWO_TO_FIVE_MINUTES\";\n    UpdateTimeEstimate[\"FiveToFifteenMinutes\"] = \"FIVE_TO_FIFTEEN_MINUTES\";\n})(UpdateTimeEstimate || (UpdateTimeEstimate = {}));\nexport var SimulateReaderUpdate;\n(function (SimulateReaderUpdate) {\n    SimulateReaderUpdate[\"UpdateAvailable\"] = \"UPDATE_AVAILABLE\";\n    SimulateReaderUpdate[\"None\"] = \"NONE\";\n    SimulateReaderUpdate[\"Required\"] = \"REQUIRED\";\n    SimulateReaderUpdate[\"Random\"] = \"RANDOM\";\n    SimulateReaderUpdate[\"LowBattery\"] = \"LOW_BATTERY\";\n    SimulateReaderUpdate[\"LowBatterySucceedConnect\"] = \"LOW_BATTERY_SUCCEED_CONNECT\";\n})(SimulateReaderUpdate || (SimulateReaderUpdate = {}));\nexport var SimulatedCardType;\n(function (SimulatedCardType) {\n    SimulatedCardType[\"Visa\"] = \"VISA\";\n    SimulatedCardType[\"VisaDebit\"] = \"VISA_DEBIT\";\n    SimulatedCardType[\"Mastercard\"] = \"MASTERCARD\";\n    SimulatedCardType[\"MastercardDebit\"] = \"MASTERCARD_DEBIT\";\n    SimulatedCardType[\"MastercardPrepaid\"] = \"MASTERCARD_PREPAID\";\n    SimulatedCardType[\"Amex\"] = \"AMEX\";\n    SimulatedCardType[\"Amex2\"] = \"AMEX_2\";\n    SimulatedCardType[\"Discover\"] = \"DISCOVER\";\n    SimulatedCardType[\"Discover2\"] = \"DISCOVER_2\";\n    SimulatedCardType[\"DinersClub\"] = \"DINERS\";\n    SimulatedCardType[\"DinersClulb14Digits\"] = \"DINERS_14_DIGITS\";\n    SimulatedCardType[\"JCB\"] = \"JCB\";\n    SimulatedCardType[\"UnionPay\"] = \"UNION_PAY\";\n    SimulatedCardType[\"Interac\"] = \"INTERAC\";\n    SimulatedCardType[\"EftposAustraliaDebit\"] = \"EFTPOS_AU_DEBIT\";\n    SimulatedCardType[\"VisaUsCommonDebit\"] = \"VISA_US_COMMON_DEBIT\";\n    SimulatedCardType[\"ChargeDeclined\"] = \"CHARGE_DECLINED\";\n    SimulatedCardType[\"ChargeDeclinedInsufficientFunds\"] = \"CHARGE_DECLINED_INSUFFICIENT_FUNDS\";\n    SimulatedCardType[\"ChargeDeclinedLostCard\"] = \"CHARGE_DECLINED_LOST_CARD\";\n    SimulatedCardType[\"ChargeDeclinedStolenCard\"] = \"CHARGE_DECLINED_STOLEN_CARD\";\n    SimulatedCardType[\"ChargeDeclinedExpiredCard\"] = \"CHARGE_DECLINED_EXPIRED_CARD\";\n    SimulatedCardType[\"ChargeDeclinedProcessingError\"] = \"CHARGE_DECLINED_PROCESSING_ERROR\";\n    SimulatedCardType[\"EftposAustraliaVisaDebit\"] = \"EFTPOS_AU_VISA_DEBIT\";\n    SimulatedCardType[\"EftposAustraliaMastercardDebit\"] = \"EFTPOS_AU_DEBIT_MASTERCARD\";\n    SimulatedCardType[\"OfflinePinCVM\"] = \"OFFLINE_PIN_CVM\";\n    SimulatedCardType[\"OfflinePinSCARetry\"] = \"OFFLINE_PIN_SCA_RETRY\";\n    SimulatedCardType[\"OnlinePinCVM\"] = \"ONLINE_PIN_CVM\";\n    SimulatedCardType[\"OnlinePinSCARetry\"] = \"ONLINE_PIN_SCA_RETRY\";\n})(SimulatedCardType || (SimulatedCardType = {}));\nexport var BatteryStatus;\n(function (BatteryStatus) {\n    BatteryStatus[\"Unknown\"] = \"UNKNOWN\";\n    BatteryStatus[\"Critical\"] = \"CRITICAL\";\n    BatteryStatus[\"Low\"] = \"LOW\";\n    BatteryStatus[\"Nominal\"] = \"NOMINAL\";\n})(BatteryStatus || (BatteryStatus = {}));\nexport var LocationStatus;\n(function (LocationStatus) {\n    LocationStatus[\"NotSet\"] = \"NOT_SET\";\n    LocationStatus[\"Set\"] = \"SET\";\n    LocationStatus[\"Unknown\"] = \"UNKNOWN\";\n})(LocationStatus || (LocationStatus = {}));\nexport var NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[\"Unknown\"] = \"UNKNOWN\";\n    NetworkStatus[\"Online\"] = \"ONLINE\";\n    NetworkStatus[\"Offline\"] = \"OFFLINE\";\n})(NetworkStatus || (NetworkStatus = {}));\nexport var ReaderEvent;\n(function (ReaderEvent) {\n    ReaderEvent[\"Unknown\"] = \"UNKNOWN\";\n    ReaderEvent[\"CardInserted\"] = \"CARD_INSERTED\";\n    ReaderEvent[\"CardRemoved\"] = \"CARD_REMOVED\";\n})(ReaderEvent || (ReaderEvent = {}));\nexport var ReaderDisplayMessage;\n(function (ReaderDisplayMessage) {\n    ReaderDisplayMessage[\"CheckMobileDevice\"] = \"CHECK_MOBILE_DEVICE\";\n    ReaderDisplayMessage[\"RetryCard\"] = \"RETRY_CARD\";\n    ReaderDisplayMessage[\"InsertCard\"] = \"INSERT_CARD\";\n    ReaderDisplayMessage[\"InsertOrSwipeCard\"] = \"INSERT_OR_SWIPE_CARD\";\n    ReaderDisplayMessage[\"SwipeCard\"] = \"SWIPE_CARD\";\n    ReaderDisplayMessage[\"RemoveCard\"] = \"REMOVE_CARD\";\n    ReaderDisplayMessage[\"MultipleContactlessCardsDetected\"] = \"MULTIPLE_CONTACTLESS_CARDS_DETECTED\";\n    ReaderDisplayMessage[\"TryAnotherReadMethod\"] = \"TRY_ANOTHER_READ_METHOD\";\n    ReaderDisplayMessage[\"TryAnotherCard\"] = \"TRY_ANOTHER_CARD\";\n    ReaderDisplayMessage[\"CardRemovedTooEarly\"] = \"CARD_REMOVED_TOO_EARLY\";\n})(ReaderDisplayMessage || (ReaderDisplayMessage = {}));\nexport var ReaderInputOption;\n(function (ReaderInputOption) {\n    ReaderInputOption[\"None\"] = \"NONE\";\n    ReaderInputOption[\"Insert\"] = \"INSERT\";\n    ReaderInputOption[\"Swipe\"] = \"SWIPE\";\n    ReaderInputOption[\"Tap\"] = \"TAP\";\n    ReaderInputOption[\"ManualEntry\"] = \"MANUAL_ENTRY\";\n})(ReaderInputOption || (ReaderInputOption = {}));\nexport var PaymentStatus;\n(function (PaymentStatus) {\n    PaymentStatus[\"Unknown\"] = \"UNKNOWN\";\n    PaymentStatus[\"NotReady\"] = \"NOT_READY\";\n    PaymentStatus[\"Ready\"] = \"READY\";\n    PaymentStatus[\"WaitingForInput\"] = \"WAITING_FOR_INPUT\";\n    PaymentStatus[\"Processing\"] = \"PROCESSING\";\n})(PaymentStatus || (PaymentStatus = {}));\nexport var DisconnectReason;\n(function (DisconnectReason) {\n    DisconnectReason[\"Unknown\"] = \"UNKNOWN\";\n    DisconnectReason[\"DisconnectRequested\"] = \"DISCONNECT_REQUESTED\";\n    DisconnectReason[\"RebootRequested\"] = \"REBOOT_REQUESTED\";\n    DisconnectReason[\"SecurityReboot\"] = \"SECURITY_REBOOT\";\n    DisconnectReason[\"CriticallyLowBattery\"] = \"CRITICALLY_LOW_BATTERY\";\n    DisconnectReason[\"PoweredOff\"] = \"POWERED_OFF\";\n    DisconnectReason[\"BluetoothDisabled\"] = \"BLUETOOTH_DISABLED\";\n})(DisconnectReason || (DisconnectReason = {}));\nexport var ConnectionStatus;\n(function (ConnectionStatus) {\n    ConnectionStatus[\"Unknown\"] = \"UNKNOWN\";\n    ConnectionStatus[\"NotConnected\"] = \"NOT_CONNECTED\";\n    ConnectionStatus[\"Connecting\"] = \"CONNECTING\";\n    ConnectionStatus[\"Connected\"] = \"CONNECTED\";\n})(ConnectionStatus || (ConnectionStatus = {}));\n//# sourceMappingURL=stripe.enum.js.map","import { registerPlugin } from '@capacitor/core';\nconst StripeTerminal = registerPlugin('StripeTerminal', {\n    web: () => import('./web').then((m) => new m.StripeTerminalWeb()),\n});\nexport * from './definitions';\nexport { StripeTerminal };\n//# sourceMappingURL=index.js.map","import { BatteryStatus, DeviceType, LocationStatus, NetworkStatus } from './definitions';\nexport const mapFromCartToICart = (cart) => {\n    return {\n        line_items: cart.lineItems.map((item) => ({\n            description: item.displayName,\n            quantity: item.quantity,\n            amount: item.amount,\n        })),\n        tax: cart.tax,\n        total: cart.total,\n        currency: cart.currency,\n    };\n};\nexport const mapFromConnectionStatus = (connectionStatus) => {\n    switch (connectionStatus) {\n        case ConnectionStatus.CONNECTED:\n            return 'CONNECTED';\n        case ConnectionStatus.CONNECTING:\n            return 'CONNECTING';\n        case ConnectionStatus.NOT_CONNECTED:\n            return 'NOT_CONNECTED';\n        default:\n            return 'UNKNOWN';\n    }\n};\nexport const mapFromPaymentStatus = (paymentStatus) => {\n    switch (paymentStatus) {\n        case PaymentStatus.NOT_READY:\n            return 'NOT_READY';\n        case PaymentStatus.READY:\n            return 'READY';\n        case PaymentStatus.PROCESSING:\n            return 'PROCESSING';\n        case PaymentStatus.WAITING_FOR_INPUT:\n            return 'WAITING_FOR_INPUT';\n        default:\n            return 'UNKNOWN';\n    }\n};\nexport const convertReaderInterface = (reader) => {\n    let location = undefined;\n    if (reader.location.id) {\n        location = reader.location;\n    }\n    return {\n        baseUrl: '',\n        bootloaderVersion: '',\n        configVersion: '',\n        emvKeyProfileId: '',\n        firmwareVersion: '',\n        hardwareVersion: '',\n        macKeyProfileId: '',\n        pinKeyProfileId: '',\n        pinKeysetId: '',\n        settingsVersion: '',\n        trackKeyProfileId: '',\n        label: reader.label,\n        batteryLevel: 0,\n        batteryStatus: BatteryStatus.Unknown,\n        simulated: !reader.livemode,\n        serialNumber: reader.serial_number,\n        isCharging: 0,\n        id: 0,\n        availableUpdate: undefined,\n        locationId: reader.location.id,\n        ipAddress: reader.ip_address || '',\n        status: mapFromReaderNetworkStatus(reader.status),\n        location: location || undefined,\n        locationStatus: LocationStatus.Unknown,\n        deviceType: mapFromDeviceType(reader.device_type),\n        deviceSoftwareVersion: reader.device_sw_version,\n    };\n};\nexport const mapFromDeviceType = (type) => {\n    switch (type) {\n        case 'bbpos_chipper2x':\n            return DeviceType.chipper2X;\n        case 'stripe_m2':\n            return DeviceType.stripeM2;\n        case 'verifone_P400':\n            return DeviceType.verifoneP400;\n        case 'bbpos_wisepad3':\n            return DeviceType.wisePad3;\n        case 'bbpos_wisepos_e':\n            return DeviceType.wisePosE;\n        case 'stripe_s700':\n            return DeviceType.stripeS700;\n        default:\n            return DeviceType.unknown;\n    }\n};\nexport const mapFromReaderNetworkStatus = (status) => {\n    switch (status) {\n        case 'offline':\n            return NetworkStatus.Offline;\n        case 'online':\n            return NetworkStatus.Online;\n        default:\n            return NetworkStatus.Unknown;\n    }\n};\nexport var PaymentStatus;\n(function (PaymentStatus) {\n    PaymentStatus[\"NOT_READY\"] = \"not_ready\";\n    PaymentStatus[\"READY\"] = \"ready\";\n    PaymentStatus[\"WAITING_FOR_INPUT\"] = \"waiting_for_input\";\n    PaymentStatus[\"PROCESSING\"] = \"processing\";\n})(PaymentStatus || (PaymentStatus = {}));\nexport var ConnectionStatus;\n(function (ConnectionStatus) {\n    ConnectionStatus[\"CONNECTING\"] = \"connecting\";\n    ConnectionStatus[\"CONNECTED\"] = \"connected\";\n    ConnectionStatus[\"NOT_CONNECTED\"] = \"not_connected\";\n})(ConnectionStatus || (ConnectionStatus = {}));\n// import {\n//   ConnectionStatus,\n//   PaymentStatus,\n// } from '@stripe/terminal-js/types/terminal';\n//# sourceMappingURL=terminal-mappers.js.map","import { WebPlugin } from '@capacitor/core';\nimport { loadStripeTerminal } from '@stripe/terminal-js';\nimport { TerminalConnectTypes } from './definitions';\nimport { TerminalEventsEnum } from './events.enum';\nimport { convertReaderInterface, mapFromCartToICart, mapFromConnectionStatus, mapFromPaymentStatus, } from './terminal-mappers';\nexport class StripeTerminalWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this.stripeTerminal = undefined;\n        this.tokenProviderPromiseResolve = [];\n        this.discoveredReaders = [];\n        this.cachedFindReaders = [];\n        this.cachedPaymentIntent = undefined;\n        this.isTest = false;\n        this.collect = 'deprecated';\n        this.cancelCollect = 'deprecated';\n    }\n    async initialize(options) {\n        if (this.stripeTerminal !== undefined) {\n            throw new Error('Stripe Terminal has already been initialized');\n        }\n        this.isTest = options.isTest;\n        const stripeTerminal = await loadStripeTerminal();\n        this.stripeTerminal = stripeTerminal === null || stripeTerminal === void 0 ? void 0 : stripeTerminal.create({\n            onFetchConnectionToken: async () => {\n                this.notifyListeners(TerminalEventsEnum.RequestedConnectionToken, null);\n                if (options.tokenProviderEndpoint) {\n                    const response = await fetch(options.tokenProviderEndpoint, {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    });\n                    const data = await response.json();\n                    return data.secret;\n                }\n                else {\n                    return new Promise((resolve) => this.tokenProviderPromiseResolve.push(resolve));\n                }\n            },\n            onConnectionStatusChange: (status) => {\n                this.notifyListeners(TerminalEventsEnum.ConnectionStatusChange, {\n                    status: mapFromConnectionStatus(status.status),\n                });\n            },\n            onPaymentStatusChange: (status) => {\n                this.notifyListeners(TerminalEventsEnum.PaymentStatusChange, {\n                    status: mapFromPaymentStatus(status.status),\n                });\n            },\n            onUnexpectedReaderDisconnect: () => {\n                this.notifyListeners(TerminalEventsEnum.UnexpectedReaderDisconnect, {\n                    reader: null,\n                });\n            },\n        });\n        this.notifyListeners(TerminalEventsEnum.Loaded, null);\n    }\n    async discoverReaders(options) {\n        if (this.stripeTerminal === undefined) {\n            throw new Error('Stripe Terminal has not been initialized');\n        }\n        if (options.type !== TerminalConnectTypes.Internet) {\n            throw this.unavailable(`${options.type} is selected. Web platform is supported only internet connection.`);\n        }\n        const discoverResult = await this.stripeTerminal.discoverReaders({\n            simulated: this.isTest,\n            location: options.locationId,\n        });\n        if (discoverResult.error) {\n            throw new Error(discoverResult.error.message);\n        }\n        this.cachedFindReaders = discoverResult.discoveredReaders;\n        this.discoveredReaders = discoverResult.discoveredReaders.map((reader) => convertReaderInterface(reader));\n        this.notifyListeners(TerminalEventsEnum.DiscoveredReaders, {\n            readers: this.discoveredReaders,\n        });\n        return {\n            readers: this.discoveredReaders,\n        };\n    }\n    /**\n     * This method is not supported in the web platform.\n     */\n    async cancelDiscoverReaders() {\n        console.log('cancelDiscoverReaders');\n    }\n    async setConnectionToken(options) {\n        if (this.tokenProviderPromiseResolve.length === 0) {\n            return;\n        }\n        console.log('setConnectionToken', options);\n        const resolve = this.tokenProviderPromiseResolve.shift();\n        if (resolve === undefined) {\n            throw new Error('tokenProviderPromiseResolve is empty.');\n        }\n        resolve(options.token);\n    }\n    async setSimulatorConfiguration(options) {\n        console.log('setSimulatorConfiguration', options);\n    }\n    async connectReader(options) {\n        var _a;\n        const reader = this.cachedFindReaders.find((reader) => reader.serial_number === options.reader.serialNumber);\n        if (reader === undefined) {\n            throw new Error('reader is not match from descovered readers.');\n        }\n        const connectedResult = await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.connectReader(reader));\n        if (connectedResult.error) {\n            throw new Error(connectedResult.error.message);\n        }\n        this.notifyListeners(TerminalEventsEnum.ConnectedReader, null);\n    }\n    async getConnectedReader() {\n        var _a;\n        const reader = (_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.getConnectedReader();\n        if (reader === undefined) {\n            return {\n                reader: null,\n            };\n        }\n        return {\n            reader: convertReaderInterface(reader),\n        };\n    }\n    async disconnectReader() {\n        var _a;\n        await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.disconnectReader());\n        this.notifyListeners(TerminalEventsEnum.DisconnectedReader, null);\n    }\n    async collectPaymentMethod(options) {\n        var _a;\n        const collectResult = await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.collectPaymentMethod(options.paymentIntent));\n        if (collectResult.error) {\n            throw new Error(collectResult.error.message);\n        }\n        this.cachedPaymentIntent = collectResult.paymentIntent;\n        this.notifyListeners(TerminalEventsEnum.CollectedPaymentIntent, null);\n    }\n    async cancelCollectPaymentMethod() {\n        var _a;\n        await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.cancelCollectPaymentMethod());\n        this.notifyListeners(TerminalEventsEnum.Canceled, null);\n    }\n    async confirmPaymentIntent() {\n        var _a;\n        if (this.cachedPaymentIntent === undefined) {\n            throw new Error('PaymentIntent is not cached.');\n        }\n        const processResult = await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.processPayment(this.cachedPaymentIntent));\n        if (processResult.error) {\n            throw new Error(processResult.error.message);\n        }\n        console.log(\"Confirm payment\", processResult);\n        this.notifyListeners(TerminalEventsEnum.ConfirmedPaymentIntent, processResult);\n    }\n    async installAvailableUpdate() {\n        console.log('installAvailableUpdate');\n    }\n    async cancelInstallUpdate() {\n        console.log('cancelInstallUpdate');\n    }\n    async setReaderDisplay(options) {\n        var _a;\n        await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.setReaderDisplay({\n            type: 'cart',\n            cart: mapFromCartToICart(options),\n        }));\n        console.log('setReaderDisplay', options);\n    }\n    async clearReaderDisplay() {\n        var _a;\n        await ((_a = this.stripeTerminal) === null || _a === void 0 ? void 0 : _a.clearReaderDisplay());\n    }\n    async rebootReader() {\n        console.log('rebootReader');\n    }\n    async cancelReaderReconnection() {\n        console.log('cancelReaderReconnection');\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["TerminalEventsEnum","TerminalConnectTypes","DeviceType","DeviceGroup","UpdateTimeEstimate","SimulateReaderUpdate","SimulatedCardType","BatteryStatus","LocationStatus","NetworkStatus","ReaderEvent","ReaderDisplayMessage","ReaderInputOption","PaymentStatus","DisconnectReason","ConnectionStatus","registerPlugin","WebPlugin","loadStripeTerminal"],"mappings":"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"}